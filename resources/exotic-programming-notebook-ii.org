#+title: Exotic Programming Notebook II
#+STARTUP: inlineimages
#+PROPERTY: org-image-actual-width 1200

* Exotic mode demo

** Command

#+begin_src sh
bb -cp src:resources -m futon5.mmca.exoevolve \
  --runs 5 \
  --length 20 \
  --generations 20 \
  --tier super \
  --xeno-spec resources/exotic-xenotype-example.edn \
  --xeno-weight 1.0 \
  --log resources/exotic-mode-demo.log
#+end_src

** Notes

- Run completed with exotic scoring enabled.
- Log file: resources/exotic-mode-demo.log

** Log check (last entry)

#+begin_src edn
{:event :run
 :score {:short 34.6883051228524, :xeno 1.0, :final 100.0}
 :program-template :contextual-mutate+mix
 :run/id 5}
#+end_src

* Mission 13: Ratchet memory (stub)

** Notes

- Added `futon5.exotic.ratchet` for window tracking + delta scoring.
- Exotic score now accepts an optional `:ratchet` block with `:prev-score`/`:curr-score`.
- Exotype evolution now maintains a ratchet state and passes `:ratchet` into xenotype scoring after each window.

* Mission 14: Ratchet curriculum (stub)

** Notes

- Added `futon5.exotic.curriculum/curriculum-threshold` with a simple tightening schedule.
- `exoevolve` now attaches `:curriculum` metadata (threshold + window) into the ratchet context.

* Mission 15: Contemplative layer (stub)

** Notes

- Added `futon5.exotic.contemplative` placeholders for provenance, worthiness, and inheritance checks.
- Exotic scoring now accepts optional `:contemplative` inputs and reports a `:contemplative-score` when present.

* Mission 16: Pilot A/B sanity checks

** Pilot 1: Fixed seeds, minimal runs

Compare baseline (no xeno) vs exotic xeno on identical seeds.

#+begin_src sh
# Baseline
bb -cp src:resources -m futon5.mmca.exoevolve \
  --runs 10 \
  --length 20 \
  --generations 20 \
  --tier super \
  --seed 4242 \
  --update-every 5 \
  --log resources/mission-16-pilot1-baseline.log

# Exotic
bb -cp src:resources -m futon5.mmca.exoevolve \
  --runs 10 \
  --length 20 \
  --generations 20 \
  --tier super \
  --seed 4242 \
  --update-every 5 \
  --xeno-spec resources/exotic-xenotype-example.edn \
  --xeno-weight 1.0 \
  --log resources/mission-16-pilot1-exotic.log
#+end_src

** Pilot 1b: Fixed seeds, 50 runs (ratchet visible)

#+begin_src sh
# Baseline
bb -cp src:resources -m futon5.mmca.exoevolve \
  --runs 50 \
  --length 20 \
  --generations 20 \
  --tier super \
  --seed 4242 \
  --update-every 5 \
  --log resources/mission-16-pilot1-baseline-r50.log

# Exotic
bb -cp src:resources -m futon5.mmca.exoevolve \
  --runs 50 \
  --length 20 \
  --generations 20 \
  --tier super \
  --seed 4242 \
  --update-every 5 \
  --xeno-spec resources/exotic-xenotype-example.edn \
  --xeno-weight 1.0 \
  --log resources/mission-16-pilot1-exotic-r50.log
#+end_src

** Pilot 1b notes

- Baseline window means: ~34–43 range across windows.
- Exotic window means: 90–100 range once ratchet context starts flowing.

* Mission 16: CA snapshots (comparable scores)

Baseline and exotype runs use the same initial genotype/phenotype and length=32, generations=64.
Scores below are the standard composite scores from `metrics/summarize-run`.

** Baseline run

- Composite score: 28.83
- Config: `resources/mission-16-baseline.edn`

#+CAPTION: Mission 16 baseline snapshot (composite score 28.83)
#+ATTR_ORG: :width 900
[[file:mission-16-baseline.png]]

** Exotype run (sigil 术, super)

- Composite score: 27.14
- Config: `resources/mission-16-exotic.edn`

#+CAPTION: Mission 16 exotype snapshot (sigil 术, super; composite score 27.14)
#+ATTR_ORG: :width 900
[[file:mission-16-exotic.png]]

* Mission 16: Hot vs cool exotypes (same init state)

All runs share the same initial genotype/phenotype and generations=64.

** Hot (sigil 丁, super, update-prob 1.0)

- Composite score: 34.37
- Config: `resources/mission-16-hot.edn`

#+CAPTION: Mission 16 hot exotype (sigil 丁)
#+ATTR_ORG: :width 900
[[file:mission-16-hot.png]]

** Mid (sigil 乙, super, update-prob 0.5)

- Composite score: 26.44
- Config: `resources/mission-16-mid.edn`

#+CAPTION: Mission 16 mid exotype (sigil 乙)
#+ATTR_ORG: :width 900
[[file:mission-16-mid.png]]

** Cool (sigil 一, super, update-prob 0.25)

- Composite score: 26.41
- Config: `resources/mission-16-cool.edn`

#+CAPTION: Mission 16 cool exotype (sigil 一)
#+ATTR_ORG: :width 900
[[file:mission-16-cool.png]]

* Mission 16: Pilot 2 (rotated seeds, 50 runs)

Aggregate note: pilot2 shows some promise in moving from a hot regime towards a cooler edge-of-chaos regime.

** Batch A (seed 1111)

- Baseline log: `resources/mission-16-pilot2-baseline-a-r50.log`
- Exotic log: `resources/mission-16-pilot2-exotic-a-r50.log`

Baseline CA snapshot (composite score 26.91):

#+CAPTION: Mission 16 pilot2 A baseline (seed 1111)
#+ATTR_ORG: :width 900
[[file:mission-16-pilot2-a-baseline.png]]

Exotype CA snapshot (sigil 术, update-prob 0.5; composite score 32.81):

#+CAPTION: Mission 16 pilot2 A exotype (seed 1111, sigil 术)
#+ATTR_ORG: :width 900
[[file:mission-16-pilot2-a-exotic.png]]

** Batch B (seed 2222)

- Baseline log: `resources/mission-16-pilot2-baseline-b-r50.log`
- Exotic log: `resources/mission-16-pilot2-exotic-b-r50.log`

Baseline CA snapshot (composite score 26.77):

#+CAPTION: Mission 16 pilot2 B baseline (seed 2222)
#+ATTR_ORG: :width 900
[[file:mission-16-pilot2-b-baseline.png]]

Exotype CA snapshot (sigil 术, update-prob 0.5; composite score 30.80):

#+CAPTION: Mission 16 pilot2 B exotype (seed 2222, sigil 术)
#+ATTR_ORG: :width 900
[[file:mission-16-pilot2-b-exotic.png]]

* Mission 17: CT template parsing (checkpoint)

Added two real CT templates in `resources/exotype-xenotype-lift.edn`:
- `f5/p3`
- `f1/p3`

** REPL handshake sanity check

#+begin_src clojure
(require '[futon5.exotic.pattern-repl :as pr]
         '[futon5.exotic.vision :as vision]
         '[futon5.exotic.category :as cat])

(def result (pr/pattern-repl-handshake {:pattern-id "f5/p3" :run-id "demo-ct"}))
(def vis (:vision result))

{:vision-name (:name vis)
 :objects (count (:objects vis))
 :morphisms (count (:morphisms vis))
 :valid? (cat/valid-category? (vision/vision->category vis))}
#+end_src

Expected: non-degenerate vision and `:valid? true`.

** Pilot 2: Two batches, rotated seeds

#+begin_src sh
# Batch A
bb -cp src:resources -m futon5.mmca.exoevolve \
  --runs 20 \
  --length 20 \
  --generations 20 \
  --tier super \
  --seed 1111 \
  --xeno-spec resources/exotic-xenotype-example.edn \
  --xeno-weight 1.0 \
  --log resources/mission-16-pilot2-a.log

# Batch B
bb -cp src:resources -m futon5.mmca.exoevolve \
  --runs 20 \
  --length 20 \
  --generations 20 \
  --tier super \
  --seed 2222 \
  --xeno-spec resources/exotic-xenotype-example.edn \
  --xeno-weight 1.0 \
  --log resources/mission-16-pilot2-b.log
#+end_src
